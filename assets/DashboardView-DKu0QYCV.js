import{_ as J,u as K,r as P,o as Q,c as _,a as l,b as e,w as t,d as r,e as i,m as S,f as a,g as w,h as C,t as d,F as A,i as B}from"./index-DvHs-uuO.js";const U={class:"text-h2 text-center my-3"},W={class:"text-h2 text-center my-3"},X={class:"text-h2 text-center my-3"},Y={class:"text-h2 text-center my-3"},Z={key:0},ee={colspan:"5",class:"text-center"},te={key:1},ne={class:"d-flex align-center"},le={key:0,class:"text-center my-4"},se={class:"text-center w-100"},oe={class:"text-white"},ae={class:"text-h4 text-white mt-2"},re={__name:"DashboardView",setup(ie){const E=K(),v=P(!0),$=P([]),h=P({totalPipelines:0,activePipelines:0,dataSources:0,recentExecutions:0}),V=P([{name:"Completed",count:0},{name:"Running",count:0},{name:"Failed",count:0}]);function z(s){switch(s==null?void 0:s.toLowerCase()){case"completed":return"success";case"running":return"info";case"failed":return"error";case"cancelled":return"warning";default:return"grey"}}function N(s){switch(s==null?void 0:s.toLowerCase()){case"completed":return"mdi-check-circle";case"running":return"mdi-progress-clock";case"failed":return"mdi-alert-circle";case"cancelled":return"mdi-cancel";default:return"mdi-information"}}function M(s){return s?new Date(s).toLocaleString():"-"}function O(s){if(!s)return"-";const n=Math.floor(s/1e3),c=Math.floor(n/60),m=Math.floor(c/60);return m>0?`${m}h ${c%60}m`:c>0?`${c}m ${n%60}s`:`${n}s`}async function I(){try{v.value=!0,await new Promise(s=>setTimeout(s,1e3)),h.value={totalPipelines:12,activePipelines:3,dataSources:8,recentExecutions:27},V.value=[{name:"Completed",count:18},{name:"Running",count:3},{name:"Failed",count:6}],$.value=[{id:"1",pipelineName:"Sales Data ETL",startTime:new Date(Date.now()-30*6e4).toISOString(),duration:245e3,status:"Completed",rowsProcessed:12345},{id:"2",pipelineName:"Customer Import",startTime:new Date(Date.now()-120*6e4).toISOString(),duration:183e3,status:"Completed",rowsProcessed:5280},{id:"3",pipelineName:"Product Sync",startTime:new Date(Date.now()-10*6e4).toISOString(),duration:45e4,status:"Running",rowsProcessed:3200},{id:"4",pipelineName:"Analytics Export",startTime:new Date(Date.now()-180*6e4).toISOString(),duration:36e4,status:"Failed",rowsProcessed:0}]}catch(s){console.error("Error fetching dashboard data:",s)}finally{v.value=!1}}return Q(()=>{I(),E.$subscribe(()=>{E.currentTenantId&&I()})}),(s,n)=>{const c=r("v-icon"),m=r("v-card-title"),f=r("v-progress-circular"),k=r("v-card-item"),x=r("v-btn"),D=r("v-card-actions"),g=r("v-card"),y=r("v-hover"),p=r("v-col"),T=r("v-row"),j=r("v-spacer"),L=r("v-divider"),q=r("v-chip"),G=r("v-table"),R=r("v-card-text"),F=r("v-sheet");return i(),_("div",null,[n[18]||(n[18]=l("h1",{class:"text-h4 mb-6"},"Dashboard",-1)),e(T,null,{default:t(()=>[e(p,{cols:"12",md:"6",lg:"3"},{default:t(()=>[e(y,null,{default:t(({isHovering:o,props:u})=>[e(g,S(u,{class:["mb-4",{"on-hover":o}],elevation:"2",onClick:n[0]||(n[0]=b=>s.$router.push("/pipelines"))}),{default:t(()=>[e(k,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-pipe",size:"x-large",class:"mr-2",color:"primary"}),n[4]||(n[4]=a(" Total Pipelines "))]),_:1}),l("div",U,[a(d(h.value.totalPipelines)+" ",1),v.value?(i(),w(f,{key:0,indeterminate:"",size:"24",width:"2",class:"ml-2"})):C("",!0)])]),_:1}),e(D,null,{default:t(()=>[e(x,{variant:"tonal",block:"",to:"/pipelines"},{default:t(()=>n[5]||(n[5]=[a("View Pipelines")])),_:1})]),_:1})]),_:2},1040,["elevation","class"])]),_:1})]),_:1}),e(p,{cols:"12",md:"6",lg:"3"},{default:t(()=>[e(y,null,{default:t(({isHovering:o,props:u})=>[e(g,S(u,{class:["mb-4",{"on-hover":o}],elevation:"2",onClick:n[1]||(n[1]=b=>s.$router.push("/pipelines?status=active"))}),{default:t(()=>[e(k,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-play-circle",size:"x-large",class:"mr-2",color:"success"}),n[6]||(n[6]=a(" Active Pipelines "))]),_:1}),l("div",W,[a(d(h.value.activePipelines)+" ",1),v.value?(i(),w(f,{key:0,indeterminate:"",size:"24",width:"2",class:"ml-2"})):C("",!0)])]),_:1}),e(D,null,{default:t(()=>[e(x,{variant:"tonal",color:"success",block:"",to:"/pipelines?status=active"},{default:t(()=>n[7]||(n[7]=[a("View Active")])),_:1})]),_:1})]),_:2},1040,["elevation","class"])]),_:1})]),_:1}),e(p,{cols:"12",md:"6",lg:"3"},{default:t(()=>[e(y,null,{default:t(({isHovering:o,props:u})=>[e(g,S(u,{class:["mb-4",{"on-hover":o}],elevation:"2",onClick:n[2]||(n[2]=b=>s.$router.push("/data-sources"))}),{default:t(()=>[e(k,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-database",size:"x-large",class:"mr-2",color:"info"}),n[8]||(n[8]=a(" Data Sources "))]),_:1}),l("div",X,[a(d(h.value.dataSources)+" ",1),v.value?(i(),w(f,{key:0,indeterminate:"",size:"24",width:"2",class:"ml-2"})):C("",!0)])]),_:1}),e(D,null,{default:t(()=>[e(x,{variant:"tonal",color:"info",block:"",to:"/data-sources"},{default:t(()=>n[9]||(n[9]=[a("View Sources")])),_:1})]),_:1})]),_:2},1040,["elevation","class"])]),_:1})]),_:1}),e(p,{cols:"12",md:"6",lg:"3"},{default:t(()=>[e(y,null,{default:t(({isHovering:o,props:u})=>[e(g,S(u,{class:["mb-4",{"on-hover":o}],elevation:"2",onClick:n[3]||(n[3]=b=>s.$router.push("/executions"))}),{default:t(()=>[e(k,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-history",size:"x-large",class:"mr-2",color:"purple"}),n[10]||(n[10]=a(" Recent Executions "))]),_:1}),l("div",Y,[a(d(h.value.recentExecutions)+" ",1),v.value?(i(),w(f,{key:0,indeterminate:"",size:"24",width:"2",class:"ml-2"})):C("",!0)])]),_:1}),e(D,null,{default:t(()=>[e(x,{variant:"tonal",color:"purple",block:"",to:"/executions"},{default:t(()=>n[11]||(n[11]=[a("View Executions")])),_:1})]),_:1})]),_:2},1040,["elevation","class"])]),_:1})]),_:1})]),_:1}),e(T,null,{default:t(()=>[e(p,{cols:"12",lg:"8"},{default:t(()=>[e(g,{elevation:"2",class:"fill-height"},{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-history",class:"mr-2"}),n[13]||(n[13]=a(" Recent Pipeline Executions ")),e(j),e(x,{size:"small",variant:"outlined",to:"/executions","prepend-icon":"mdi-eye"},{default:t(()=>n[12]||(n[12]=[a(" View All ")])),_:1})]),_:1}),e(L),e(R,null,{default:t(()=>[e(G,{hover:""},{default:t(()=>[n[15]||(n[15]=l("thead",null,[l("tr",null,[l("th",null,"Pipeline"),l("th",null,"Start Time"),l("th",null,"Duration"),l("th",null,"Status"),l("th",null,"Rows Processed")])],-1)),l("tbody",null,[v.value?(i(),_("tr",Z,[l("td",ee,[e(f,{indeterminate:"",size:"24",width:"2",class:"my-4"})])])):$.value.length===0?(i(),_("tr",te,n[14]||(n[14]=[l("td",{colspan:"5",class:"text-center py-4"}," No recent executions found ",-1)]))):(i(!0),_(A,{key:2},B($.value,o=>{var u;return i(),_("tr",{key:o.id,class:"execution-row"},[l("td",null,[l("div",ne,[e(c,{icon:N(o.status),class:"mr-2",size:"small",color:z(o.status)},null,8,["icon","color"]),a(" "+d(o.pipelineName),1)])]),l("td",null,d(M(o.startTime)),1),l("td",null,d(O(o.duration)),1),l("td",null,[e(q,{size:"small",color:z(o.status),"text-color":"white","prepend-icon":N(o.status)},{default:t(()=>[a(d(o.status),1)]),_:2},1032,["color","prepend-icon"])]),l("td",null,d(((u=o.rowsProcessed)==null?void 0:u.toLocaleString())||"-"),1)])}),128))])]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",lg:"4"},{default:t(()=>[e(g,{elevation:"2",class:"fill-height"},{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(c,{icon:"mdi-chart-pie",class:"mr-2"}),n[16]||(n[16]=a(" Pipeline Status "))]),_:1}),e(L),e(R,null,{default:t(()=>[v.value?(i(),_("div",le,[e(f,{indeterminate:"",size:"32",width:"3"})])):(i(),w(F,{key:1,height:"250",class:"d-flex align-center justify-center"},{default:t(()=>[l("div",se,[n[17]||(n[17]=l("div",{class:"text-subtitle-1 mb-4"},"Pipeline Status Distribution",-1)),e(T,null,{default:t(()=>[(i(!0),_(A,null,B(V.value,(o,u)=>(i(),w(p,{key:u},{default:t(()=>[e(y,null,{default:t(({isHovering:b,props:H})=>[e(F,S({ref_for:!0},H,{rounded:"",class:["pa-4 status-card",{"on-hover":b}],color:z(o.name)}),{default:t(()=>[l("div",oe,d(o.name),1),l("div",ae,d(o.count),1)]),_:2},1040,["color","class"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})])}}},ue=J(re,[["__scopeId","data-v-d2e0250e"]]);export{ue as default};
